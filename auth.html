<!DOCTYPE html>
<html>
<head>
    <title>Spotify Auth Callback</title>
    <style>
        /* ä¿æŒåŸæœ‰æ ·å¼ä¸å˜ */
    </style>
</head>
<body>
    <div class="status-box">
        <h2 id="status-title">ğŸ”„ æˆæƒå¤„ç†ä¸­...</h2>
        <div id="status-detail"></div>
        <button onclick="window.close()">æ‰‹åŠ¨å…³é—­çª—å£</button>
    </div>

    <script>
    const validOrigins = [
        'https://live.bilibili.com',
        'https://www.bilibili.com',
        'https://oblivionh.github.io'
    ];

    function sendAuthMessage() {
        try {
            const openerOrigin = new URL(window.opener.location.href).origin;
            if (!validOrigins.includes(openerOrigin)) {
                throw new Error(`éæ³•çˆ¶çª—å£æº: ${openerOrigin}`);
            }

            // ...ä¿æŒå…¶ä»–ä»£ç ä¸å˜...
            window.opener.postMessage(message, openerOrigin); // åŠ¨æ€ä½¿ç”¨å®é™…æº
        } catch (error) {
            // ...é”™è¯¯å¤„ç†é€»è¾‘...
        }
    }
    </script>
</body>
</html>
